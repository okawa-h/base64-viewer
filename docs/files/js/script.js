// Generated by Haxe 4.0.1
(function ($global) { "use strict";
var Main = function() { };
Main.main = function() {
	$("document").ready(Main.init);
};
Main.init = function(event) {
	Read.init();
	Main.onRead("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAPklEQVQoU2NkYGD4z0AEYIQqBNH4wH9khbhMBqtBV4huMkgzToUwk1EMwWYi0QqRPYXTamw+x3AjUcFDMMgBGMoeAUz+9+0AAAAASUVORK5CYII=");
};
Main.onRead = function(src) {
	$("#image").html("<img src=\"" + src + "\">");
	$("#data").find("[name=\"data\"]").val(src);
};
var Read = function() { };
Read.init = function() {
	Read._jParent = $("#read");
	Read._jBtn = Read._jParent.find(".button");
	Read._jSubmit = Read._jParent.find("input[name=\"read-file\"]");
	$(window).on({ drop : Read.onDrop, dragenter : Read.onEnter, dragover : Read.onOver});
	Read._jBtn.on("click",null,function(event) {
		return Read._jSubmit.click();
	});
	Read._jSubmit.on({ "change" : Read.onChange});
};
Read.readFile = function(file) {
	var fileReader = new FileReader();
	fileReader.onload = function(event) {
		Read.cancel(event);
		Main.onRead(event.target.result);
		return;
	};
	fileReader.readAsDataURL(file);
};
Read.onChange = function(event) {
	var file = event.originalEvent.target.files[0];
	Read.readFile(file);
};
Read.onDrop = function(event) {
	var file = event.originalEvent.dataTransfer.files[0];
	Read.readFile(file);
	return false;
};
Read.onEnter = function(event) {
	Read.cancel(event);
	return false;
};
Read.onOver = function(event) {
	Read.cancel(event);
	return false;
};
Read.cancel = function(event) {
	event.preventDefault();
	event.stopPropagation();
};
var js_jquery_JqEltsIterator = function(j) {
	this.i = 0;
	this.j = j;
};
js_jquery_JqEltsIterator.prototype = {
	hasNext: function() {
		return this.i < this.j.length;
	}
	,next: function() {
		return $(this.j[this.i++]);
	}
};
var js_jquery_JqIterator = function(j) {
	this.i = 0;
	this.j = j;
};
js_jquery_JqIterator.prototype = {
	hasNext: function() {
		return this.i < this.j.length;
	}
	,next: function() {
		return this.j[this.i++];
	}
};
var typeofJQuery = typeof($);
if(typeofJQuery != "undefined" && $.fn != null) {
	$.fn.elements = function() {
		return new js_jquery_JqEltsIterator(this);
	};
}
var typeofJQuery = typeof($);
if(typeofJQuery != "undefined" && $.fn != null) {
	$.fn.iterator = function() {
		return new js_jquery_JqIterator(this);
	};
}
Main.SAMPLE_DATA = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAPklEQVQoU2NkYGD4z0AEYIQqBNH4wH9khbhMBqtBV4huMkgzToUwk1EMwWYi0QqRPYXTamw+x3AjUcFDMMgBGMoeAUz+9+0AAAAASUVORK5CYII=";
Main.main();
})({});
